{"ast":null,"code":"var _jsxFileName = \"/home/poncho/toto/CODE/react-shopping-cart/src/components/Products/Product/Product.tsx\",\n    _s = $RefreshSig$();\n\nimport formatPrice from 'utils/formatPrice';\nimport { useCart } from 'contexts/cart-context';\nimport * as S from './style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Product = _ref => {\n  _s();\n\n  let {\n    product\n  } = _ref;\n  const {\n    openCart,\n    addProduct\n  } = useCart();\n  const {\n    sku,\n    title,\n    price,\n    installments,\n    currencyId,\n    currencyFormat,\n    isFreeShipping\n  } = product;\n  const formattedPrice = formatPrice(price, currencyId);\n  let productInstallment;\n\n  if (installments) {\n    const installmentPrice = price / installments;\n    productInstallment = /*#__PURE__*/_jsxDEV(S.Installment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"or \", installments, \" x\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: [currencyFormat, formatPrice(installmentPrice, currencyId)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  }\n\n  const handleAddProduct = () => {\n    addProduct({ ...product,\n      quantity: 1\n    });\n    openCart();\n  };\n\n  const handleAddProductWhenEnter = event => {\n    if (event.key === 'Enter' || event.code === 'Space') {\n      addProduct({ ...product,\n        quantity: 1\n      });\n      openCart();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(S.Container, {\n    onKeyUp: handleAddProductWhenEnter,\n    sku: sku,\n    tabIndex: 1,\n    children: [isFreeShipping && /*#__PURE__*/_jsxDEV(S.Stopper, {\n      children: \"Free shipping\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(S.Image, {\n      alt: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(S.Title, {\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(S.Price, {\n      children: [/*#__PURE__*/_jsxDEV(S.Val, {\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          children: currencyFormat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n          children: formattedPrice.substring(0, formattedPrice.length - 3)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: formattedPrice.substring(formattedPrice.length - 3)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), productInstallment]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(S.BuyButton, {\n      onClick: handleAddProduct,\n      tabIndex: -1,\n      children: \"Add to cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Product, \"6omCQDpIun7kP9wI/Tsf8vnBiEY=\", false, function () {\n  return [useCart];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/poncho/toto/CODE/react-shopping-cart/src/components/Products/Product/Product.tsx"],"names":["formatPrice","useCart","S","Product","product","openCart","addProduct","sku","title","price","installments","currencyId","currencyFormat","isFreeShipping","formattedPrice","productInstallment","installmentPrice","handleAddProduct","quantity","handleAddProductWhenEnter","event","key","code","substring","length"],"mappings":"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","sourcesContent":["import { KeyboardEvent } from 'react';\n\nimport formatPrice from 'utils/formatPrice';\nimport { IProduct } from 'models';\n\nimport { useCart } from 'contexts/cart-context';\n\nimport * as S from './style';\n\ninterface IProps {\n  product: IProduct;\n}\n\nconst Product = ({ product }: IProps) => {\n  const { openCart, addProduct } = useCart();\n  const {\n    sku,\n    title,\n    price,\n    installments,\n    currencyId,\n    currencyFormat,\n    isFreeShipping,\n  } = product;\n\n  const formattedPrice = formatPrice(price, currencyId);\n  let productInstallment;\n\n  if (installments) {\n    const installmentPrice = price / installments;\n\n    productInstallment = (\n      <S.Installment>\n        <span>or {installments} x</span>\n        <b>\n          {currencyFormat}\n          {formatPrice(installmentPrice, currencyId)}\n        </b>\n      </S.Installment>\n    );\n  }\n\n  const handleAddProduct = () => {\n    addProduct({ ...product, quantity: 1 });\n    openCart();\n  };\n\n  const handleAddProductWhenEnter = (event: KeyboardEvent) => {\n    if (event.key === 'Enter' || event.code === 'Space') {\n      addProduct({ ...product, quantity: 1 });\n      openCart();\n    }\n  };\n\n  return (\n    <S.Container onKeyUp={handleAddProductWhenEnter} sku={sku} tabIndex={1}>\n      {isFreeShipping && <S.Stopper>Free shipping</S.Stopper>}\n      <S.Image alt={title} />\n      <S.Title>{title}</S.Title>\n      <S.Price>\n        <S.Val>\n          <small>{currencyFormat}</small>\n          <b>{formattedPrice.substring(0, formattedPrice.length - 3)}</b>\n          <span>{formattedPrice.substring(formattedPrice.length - 3)}</span>\n        </S.Val>\n        {productInstallment}\n      </S.Price>\n      <S.BuyButton onClick={handleAddProduct} tabIndex={-1}>\n        Add to cart\n      </S.BuyButton>\n    </S.Container>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}