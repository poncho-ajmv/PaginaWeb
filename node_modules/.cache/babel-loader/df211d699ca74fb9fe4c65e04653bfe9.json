{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCartContext } from './CartContextProvider';\n\nconst useCartTotal = () => {\n  _s();\n\n  const {\n    total,\n    setTotal\n  } = useCartContext();\n\n  const updateCartTotal = products => {\n    const productQuantity = products.reduce((sum, product) => {\n      sum += product.quantity;\n      return sum;\n    }, 0);\n    const totalPrice = products.reduce((sum, product) => {\n      sum += product.price * product.quantity;\n      return sum;\n    }, 0);\n    const installments = products.reduce((greater, product) => {\n      greater = product.installments > greater ? product.installments : greater;\n      return greater;\n    }, 0);\n    const total = {\n      productQuantity,\n      installments,\n      totalPrice,\n      currencyId: 'USD',\n      currencyFormat: '$'\n    };\n    setTotal(total);\n  };\n\n  return {\n    total,\n    updateCartTotal\n  };\n};\n\n_s(useCartTotal, \"AvNM9xaSlcEljE+nEs35e8oLrHY=\", false, function () {\n  return [useCartContext];\n});\n\nexport default useCartTotal;","map":{"version":3,"sources":["/home/poncho/toto/CODE/react-shopping-cart/src/contexts/cart-context/useCartTotal.ts"],"names":["useCartContext","useCartTotal","total","setTotal","updateCartTotal","products","productQuantity","reduce","sum","product","quantity","totalPrice","price","installments","greater","currencyId","currencyFormat"],"mappings":";;AAAA,SAASA,cAAT,QAA+B,uBAA/B;;AAGA,MAAMC,YAAY,GAAG,MAAM;AAAA;;AACzB,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBH,cAAc,EAA1C;;AAEA,QAAMI,eAAe,GAAIC,QAAD,IAA8B;AACpD,UAAMC,eAAe,GAAGD,QAAQ,CAACE,MAAT,CACtB,CAACC,GAAD,EAAcC,OAAd,KAAwC;AACtCD,MAAAA,GAAG,IAAIC,OAAO,CAACC,QAAf;AACA,aAAOF,GAAP;AACD,KAJqB,EAKtB,CALsB,CAAxB;AAQA,UAAMG,UAAU,GAAGN,QAAQ,CAACE,MAAT,CAAgB,CAACC,GAAD,EAAcC,OAAd,KAAwC;AACzED,MAAAA,GAAG,IAAIC,OAAO,CAACG,KAAR,GAAgBH,OAAO,CAACC,QAA/B;AACA,aAAOF,GAAP;AACD,KAHkB,EAGhB,CAHgB,CAAnB;AAKA,UAAMK,YAAY,GAAGR,QAAQ,CAACE,MAAT,CACnB,CAACO,OAAD,EAAkBL,OAAlB,KAA4C;AAC1CK,MAAAA,OAAO,GACLL,OAAO,CAACI,YAAR,GAAuBC,OAAvB,GAAiCL,OAAO,CAACI,YAAzC,GAAwDC,OAD1D;AAEA,aAAOA,OAAP;AACD,KALkB,EAMnB,CANmB,CAArB;AASA,UAAMZ,KAAK,GAAG;AACZI,MAAAA,eADY;AAEZO,MAAAA,YAFY;AAGZF,MAAAA,UAHY;AAIZI,MAAAA,UAAU,EAAE,KAJA;AAKZC,MAAAA,cAAc,EAAE;AALJ,KAAd;AAQAb,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,GAhCD;;AAkCA,SAAO;AACLA,IAAAA,KADK;AAELE,IAAAA;AAFK,GAAP;AAID,CAzCD;;GAAMH,Y;UACwBD,c;;;AA0C9B,eAAeC,YAAf","sourcesContent":["import { useCartContext } from './CartContextProvider';\nimport { ICartProduct } from 'models';\n\nconst useCartTotal = () => {\n  const { total, setTotal } = useCartContext();\n\n  const updateCartTotal = (products: ICartProduct[]) => {\n    const productQuantity = products.reduce(\n      (sum: number, product: ICartProduct) => {\n        sum += product.quantity;\n        return sum;\n      },\n      0\n    );\n\n    const totalPrice = products.reduce((sum: number, product: ICartProduct) => {\n      sum += product.price * product.quantity;\n      return sum;\n    }, 0);\n\n    const installments = products.reduce(\n      (greater: number, product: ICartProduct) => {\n        greater =\n          product.installments > greater ? product.installments : greater;\n        return greater;\n      },\n      0\n    );\n\n    const total = {\n      productQuantity,\n      installments,\n      totalPrice,\n      currencyId: 'USD',\n      currencyFormat: '$',\n    };\n\n    setTotal(total);\n  };\n\n  return {\n    total,\n    updateCartTotal,\n  };\n};\n\nexport default useCartTotal;\n"]},"metadata":{},"sourceType":"module"}